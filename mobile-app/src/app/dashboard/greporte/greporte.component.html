<app-navbar></app-navbar>
<div class="container">
    <div class="row">
        <div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
            <br>
            <h1 class="card-title text-center text-white">Register Report </h1>
            <div class="card card-signin my-5">
                <div class="card-body form-signin">
                    
                    <form>
                       
                          <legend></legend>
            
                          <div class="mb-3">
                            <label for="disabledTextInput" class="form-label">Zona</label>
                            <select id="ZonaS" class="form-select" aria-label="Default select example" [(ngModel)]="reporteE.zona" [ngModelOptions]="{standalone: true}">
                                <option  *ngFor="let z of zonas" [value]="z.zonaID">{{z.nombre}}</option>
                            </select>
                          </div>
                          <div class="mb-3">
                            <label for="disabledTextInput" class="form-label">Categoria</label>
                            <select  id="CategoriaS" class="form-select" aria-label="Default select example" [(ngModel)]="reporteE.categoria" [ngModelOptions]="{standalone: true}">
                                <option  *ngFor="let c of categorias" [value]="c.categoriaReporteID">{{c.nombre}}</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="disabledTextInput" class="form-label">Descripcion</label>
                            <textarea class="form-control" id="exampleFormControlTextarea1" placeholder="Descripcion" [(ngModel)]="reporteE.descripcion"  [ngModelOptions]="{standalone: true}"></textarea>    
                        </div>
                        <div class="mb-3">
                            <label for="disabledTextInput" class="form-label">fecha</label>
                            
                            <div class="input-group date" data-date-format="dd.mm.yyyy">
                                <input  type="text" class="form-control" [(ngModel)]="reporteE.fechaProblema"  [ngModelOptions]="{standalone: true}" placeholder="yyyy/mm/dd" >
                                <div class="input-group-addon" >
                                  <span class="glyphicon glyphicon-th"></span>
                                </div>
                              </div>
                            <script> $('.input-group.date').datepicker({format: "dd.mm.yyyy"}); </script>
                        </div>
                       
                      </form>

                      <hr class="my-4">
                      <label for="disabledTextInput" class="form-label">AÃ±ade evidencia si lo desea</label>
                      <form *ngFor="let p of photos">
                          <div class="form-group" >
                              <input type="text" class="form-control" placeholder="Photo's Title" [value]="p.titulo" required>
                          </div>
                          <br>
                          <div class="form-group">
                             <input type="file" class="d-none" (change)="onPhotoSelected($event, p.archivo, p.archivoSelected, p.contador)" #photoInput>
                             <img [src]="p.archivoSelected || 'assets/images/no-image.png'" class="img-fluid" alt="No Image" (click)="photoInput.click()" >
                          </div>
                          <br>
                      </form>
                      
                      <hr class="my-4">


                      <div class="mb-3 text-center">
                        <button type="button" class="btn btn-danger" (click)="deleteOnePhoto()">-</button>
                        <button type="button" class="btn btn-dark" (click)="addOtherPhoto()" >+</button>
                        <button type="button" class="btn btn-secondary" (click)="addReport()" >Registrar Reporte</button>   
                      </div>

                    <hr class="my-4">
                    
                </div>
            </div>
        </div>
    </div>
</div>
